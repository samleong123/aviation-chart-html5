let data=[];function retrieveData(){const e=new XMLHttpRequest;e.open("GET","./assets/js/data.json",!0),e.onload=function(){200===e.status?(data=JSON.parse(e.responseText),renderAirportSelection(),document.getElementById("search-airport").addEventListener("input",filterAirports),customAlert("Success","All charts and airports data has been loaded!","success")):customAlert("Error","Failed to load data","error")},e.onerror=function(){customAlert("Error","Failed to load data","error")},e.send()}function renderAirportSelection(){const e=document.getElementById("available-airport-list"),t=document.getElementById("box-list-tmpl").innerHTML;e.innerHTML="",data.forEach(((r,n)=>{const a=Mustache.render(t,{type:"airport",count:n,value:r.value,name:r.name});e.innerHTML+=a})),document.querySelectorAll(".airport").forEach((e=>{e.addEventListener("click",(function(){renderChartSelection(this)}))}))}function renderChartSelection(e){const t=e.getAttribute("airport"),r=data.find((e=>e.value===t));if(r){const e=document.getElementById("available-chart-list"),t=document.getElementById("box-list-tmpl").innerHTML;e.innerHTML="",r.charts.forEach(((r,n)=>{const a=Mustache.render(t,{type:"chart",count:n,value:r.value,name:r.name});e.innerHTML+=a})),document.querySelectorAll(".chart").forEach((e=>{e.addEventListener("click",(function(){renderChart(this.getAttribute("chart"))}))}))}else customAlert("Error","Airport data not found","error")}function renderChart(e){const t=data.flatMap((e=>e.charts)).find((t=>t.value===e));if(t){document.getElementById("chart-view-iframe").src=t.value,document.getElementById("chart-view").classList.remove("d-none")}else customAlert("Error","Chart data not found","error")}function filterAirports(){const e=document.getElementById("search-airport").value.toLowerCase();document.querySelectorAll("#available-airport-list .airport").forEach((t=>{t.querySelector("h5").textContent.toLowerCase().includes(e)?t.style.display="block":t.style.display="none"}))}function customAlert(e,t,r){Swal.fire({title:e,text:t,icon:r})}document.addEventListener("DOMContentLoaded",(()=>{retrieveData()}));